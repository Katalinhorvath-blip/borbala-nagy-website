'use client'

import Link from 'next/link'
import { useState } from 'react'
import { usePathname } from 'next/navigation'

const Header = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false)
  const pathname = usePathname()

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen)
  }

  // Function to determine if a link is active
  const isActive = (path: string) => {
    if (path === '/' && pathname === '/') return true
    if (path !== '/' && pathname.startsWith(path)) return true
    return false
  }

  return (
    <header className="header">
      <div className="header-content">
        {/* BORB√ÅLA NAGY Logo */}
        <Link href="/" className="header-logo">
        <svg width="349" height="31" viewBox="0 0 349 31" fill="none" xmlns="http://www.w3.org/2000/svg" className="header-logo-svg">
                    <path d="M330.413 19.0735L323.035 6.1875H336.363L341.259 15.9115L346.019 6.1875H348.637L342.313 19.0735V29.9875H330.413V19.0735Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M296.604 18.0544C296.604 14.0424 297.59 11.0617 299.562 9.11237C300.831 7.84304 302.248 7.00437 303.812 6.59637C305.376 6.18837 307.427 5.98438 309.966 5.98438C312.323 5.98438 314.216 6.15437 315.644 6.49437C317.094 6.81171 318.284 7.50304 319.214 8.56837C319.984 9.45237 320.585 10.529 321.016 11.7984C321.469 13.045 321.73 14.269 321.798 15.4704H319.86C319.769 14.4504 319.52 13.4077 319.112 12.3424C318.726 11.2544 318.114 10.325 317.276 9.55438C316.437 8.76104 315.372 8.36438 314.08 8.36438C312.878 8.36438 311.881 8.89704 311.088 9.96237C310.408 10.8917 309.92 12.127 309.626 13.6684C309.354 15.0284 309.218 16.4904 309.218 18.0544C309.218 20.6157 309.535 22.7577 310.17 24.4804C311.008 26.679 312.312 27.7784 314.08 27.7784V18.3604H324.484V29.9884C321.22 29.9884 317.525 30.0337 313.4 30.1244L309.966 30.1584C307.472 30.1584 305.444 29.9204 303.88 29.4444C302.338 28.9457 301.012 28.141 299.902 27.0304C297.703 24.8317 296.604 21.8397 296.604 18.0544Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M275.982 6.1875H285.91L296.45 29.9875H283.598L280.028 22.0995H272.548L269.488 29.9875H267.006L275.982 6.1875ZM279.076 20.0255L275.982 13.1235L273.296 20.0255H279.076Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M242.238 6.1875H252.234L262.162 18.0875V6.1875H264.202V29.9875H256.212L244.312 14.1435V29.9875H242.238V6.1875Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M198.285 6.1875H208.213L218.753 29.9875H205.901L202.331 22.0995H194.851L191.791 29.9875H189.309L198.285 6.1875ZM201.379 20.0255L198.285 13.1235L195.599 20.0255H201.379Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M163.385 6.1875H175.319V27.9475H188.239V29.9875H163.385V6.1875Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M139.874 6.188H149.802L160.342 29.988H147.49L143.92 22.1H136.44L133.38 29.988H130.898L139.874 6.188ZM142.968 20.026L139.874 13.124L137.188 20.026H142.968ZM145.314 0H154.97L149.666 4.624H139.976L145.314 0Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M99.9609 6.1875H122.639C123.795 6.1875 124.849 6.47083 125.801 7.0375C126.776 7.5815 127.546 8.34083 128.113 9.3155C128.68 10.2675 128.963 11.3215 128.963 12.4775C128.963 13.5882 128.691 14.6422 128.147 15.6395C127.603 16.6368 126.878 17.4415 125.971 18.0535C126.878 18.6882 127.603 19.5155 128.147 20.5355C128.691 21.5328 128.963 22.5868 128.963 23.6975C128.963 24.8308 128.68 25.8848 128.113 26.8595C127.546 27.8115 126.776 28.5708 125.801 29.1375C124.849 29.7042 123.795 29.9875 122.639 29.9875H99.9609V6.1875ZM112.405 17.1015C113.221 17.1015 113.969 16.9088 114.649 16.5235C115.352 16.1155 115.896 15.5715 116.281 14.8915C116.689 14.1888 116.893 13.4408 116.893 12.6475C116.893 11.8315 116.689 11.0835 116.281 10.4035C115.896 9.70083 115.352 9.1455 114.649 8.7375C113.969 8.3295 113.221 8.1255 112.405 8.1255H111.895V17.0675C112.008 17.0902 112.178 17.1015 112.405 17.1015ZM112.405 28.0155C113.221 28.0155 113.969 27.8228 114.649 27.4375C115.352 27.0295 115.896 26.4855 116.281 25.8055C116.689 25.1028 116.893 24.3435 116.893 23.5275C116.893 22.7342 116.689 21.9975 116.281 21.3175C115.896 20.6148 115.352 20.0708 114.649 19.6855C113.969 19.2775 113.221 19.0735 112.405 19.0735H111.895V27.9815C112.008 28.0042 112.178 28.0155 112.405 28.0155Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M67.375 6.1875H90.121C91.2317 6.1875 92.2517 6.47083 93.181 7.0375C94.133 7.5815 94.881 8.3295 95.425 9.2815C95.9917 10.2108 96.275 11.2308 96.275 12.3415C96.275 13.8148 95.8217 15.1522 94.915 16.3535C94.0083 17.5548 92.8637 18.3255 91.481 18.6655C92.705 19.0055 93.7023 19.6515 94.473 20.6035C95.2663 21.5555 95.663 22.6322 95.663 23.8335V29.9875H84.273V22.6095C84.273 21.8842 84.137 21.3175 83.865 20.9095C83.5477 20.4335 83.185 20.0822 82.777 19.8555C82.3237 19.6062 81.8137 19.4248 81.247 19.3115C80.6577 19.1982 80.1023 19.1302 79.581 19.1075L78.663 19.0735V29.9875H67.375V6.1875ZM79.853 17.1015C80.669 17.1015 81.417 16.9088 82.097 16.5235C82.7997 16.1155 83.3437 15.5715 83.729 14.8915C84.137 14.1888 84.341 13.4408 84.341 12.6475C84.341 11.8315 84.137 11.0835 83.729 10.4035C83.3437 9.70083 82.7997 9.1455 82.097 8.7375C81.417 8.3295 80.669 8.1255 79.853 8.1255H78.663V17.1355L79.853 17.1015Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M47.9195 30.1584C44.8822 30.1584 42.1395 29.6937 39.6915 28.7644C37.2435 27.835 35.3055 26.4637 33.8775 24.6504C32.4722 22.8144 31.7695 20.6157 31.7695 18.0544C31.7695 15.5157 32.4835 13.3397 33.9115 11.5264C35.3395 9.71304 37.2662 8.34171 39.6915 7.41238C42.1395 6.46038 44.8822 5.98438 47.9195 5.98438C50.9342 5.98438 53.6542 6.46038 56.0795 7.41238C58.5275 8.34171 60.4542 9.71304 61.8595 11.5264C63.2875 13.3397 64.0015 15.5157 64.0015 18.0544C64.0015 20.6157 63.2875 22.8144 61.8595 24.6504C60.4542 26.4637 58.5275 27.835 56.0795 28.7644C53.6542 29.6937 50.9342 30.1584 47.9195 30.1584ZM47.9195 28.1524C48.8715 28.1524 49.5742 27.7217 50.0275 26.8604C50.4129 26.203 50.6735 25.0357 50.8095 23.3584C50.8775 22.4744 50.9115 20.7064 50.9115 18.0544C50.9115 15.3797 50.8549 13.487 50.7415 12.3764C50.6735 11.0164 50.4242 9.98504 49.9935 9.28237C49.5402 8.42104 48.8489 7.99037 47.9195 7.99037C46.9675 7.99037 46.2535 8.42104 45.7775 9.28237C45.3922 9.96237 45.1429 10.9937 45.0295 12.3764C44.9389 13.555 44.8935 15.4477 44.8935 18.0544C44.8935 21.001 44.9275 22.769 44.9955 23.3584C45.0862 24.9224 45.3355 26.0897 45.7435 26.8604C46.2195 27.7217 46.9449 28.1524 47.9195 28.1524Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
          <path d="M0 6.1875H22.678C23.834 6.1875 24.888 6.47083 25.84 7.0375C26.8147 7.5815 27.5853 8.34083 28.152 9.3155C28.7187 10.2675 29.002 11.3215 29.002 12.4775C29.002 13.5882 28.73 14.6422 28.186 15.6395C27.642 16.6368 26.9167 17.4415 26.01 18.0535C26.9167 18.6882 27.642 19.5155 28.186 20.5355C28.73 21.5328 29.002 22.5868 29.002 23.6975C29.002 24.8308 28.7187 25.8848 28.152 26.8595C27.5853 27.8115 26.8147 28.5708 25.84 29.1375C24.888 29.7042 23.834 29.9875 22.678 29.9875H0V6.1875ZM12.444 17.1015C13.26 17.1015 14.008 16.9088 14.688 16.5235C15.3907 16.1155 15.9347 15.5715 16.32 14.8915C16.728 14.1888 16.932 13.4408 16.932 12.6475C16.932 11.8315 16.728 11.0835 16.32 10.4035C15.9347 9.70083 15.3907 9.1455 14.688 8.7375C14.008 8.3295 13.26 8.1255 12.444 8.1255H11.934V17.0675C12.0473 17.0902 12.2173 17.1015 12.444 17.1015ZM12.444 28.0155C13.26 28.0155 14.008 27.8228 14.688 27.4375C15.3907 27.0295 15.9347 26.4855 16.32 25.8055C16.728 25.1028 16.932 24.3435 16.932 23.5275C16.932 22.7342 16.728 21.9975 16.32 21.3175C15.9347 20.6148 15.3907 20.0708 14.688 19.6855C14.008 19.2775 13.26 19.0735 12.444 19.0735H11.934V27.9815C12.0473 28.0042 12.2173 28.0155 12.444 28.0155Z" fill={isActive('/') ? '#EF484E' : '#333333'}/>
        </svg>
      </Link>
      
      {/* Desktop Navigation Links */}
      <nav className="desktop-nav header-nav">
        <Link href="/about" className={`header-nav-link ${isActive('/about') ? 'active' : ''}`}>
          ABOUT
        </Link>
        <Link href="/vision" className={`header-nav-link ${isActive('/vision') ? 'active' : ''}`}>
          VISION
        </Link>
        <Link href="/works" className={`header-nav-link ${isActive('/works') ? 'active' : ''}`}>
          WORKS
        </Link>
        <Link href="/press" className={`header-nav-link ${isActive('/press') ? 'active' : ''}`}>
          PRESS
        </Link>
        <Link href="/contact" className={`header-nav-link ${isActive('/contact') ? 'active' : ''}`}>
          CONTACT
        </Link>
      </nav>

        {/* Mobile Hamburger Button */}
        <button
          onClick={toggleMenu}
          className={`mobile-menu-button ${isMenuOpen ? 'open' : ''}`}
          aria-label="Toggle menu"
        >
          <span className="mobile-menu-line" />
          <span className="mobile-menu-line" />
          <span className="mobile-menu-line" />
        </button>
      </div>

      {/* Mobile Menu Overlay */}
      <div className={`mobile-menu ${isMenuOpen ? 'open' : ''}`}>
        <nav className="mobile-menu-nav">
          <Link 
            href="/about" 
            onClick={() => setIsMenuOpen(false)}
            className={`mobile-menu-link ${isActive('/about') ? 'active' : ''}`}
          >
            ABOUT
          </Link>
          <Link 
            href="/vision" 
            onClick={() => setIsMenuOpen(false)}
            className={`mobile-menu-link ${isActive('/vision') ? 'active' : ''}`}
          >
            VISION
          </Link>
          <Link 
            href="/works" 
            onClick={() => setIsMenuOpen(false)}
            className={`mobile-menu-link ${isActive('/works') ? 'active' : ''}`}
          >
            WORKS
          </Link>
          <Link 
            href="/press" 
            onClick={() => setIsMenuOpen(false)}
            className={`mobile-menu-link ${isActive('/press') ? 'active' : ''}`}
          >
            PRESS
          </Link>
          <Link 
            href="/contact" 
            onClick={() => setIsMenuOpen(false)}
            className={`mobile-menu-link ${isActive('/contact') ? 'active' : ''}`}
          >
            CONTACT
          </Link>
        </nav>
      </div>
    </header>
  )
}

export default Header